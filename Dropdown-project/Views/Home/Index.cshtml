
@using (Html.BeginForm("ProcessSelectedOptions", "Home", FormMethod.Post))
{
    <div class="form-group">
        <label for="selectedOptions">Select Options:</label>
        @foreach (var option in Model.Options)
        {
            bool isSelected = Model.SelectedOptions?.Contains(option);
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="@($"option-{option.Replace(" ", "-")}")" name="selectedOptions" value="@option" checked=@(isSelected)>
                <label class="form-check-label" for="@($"option-{option.Replace(" ", "-")}")">@option</label>
            </div>
        }
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
}

<!-- Display selected options after submit -->
@if (Model.SelectedOptions != null)
{
    <div id="selectedOptionsDisplay">
        <p>Selected Options:</p>
        <ul>
            @foreach (var option in Model.SelectedOptions)
            {
                <li>@option</li>
            }
        </ul>
    </div>
}

@section Scripts {
    <script>// JavaScript/jQuery to handle selection and submission
        $(document).ready(function () {
            $('.form-check-input').change(function () {
                $(this).closest('.form-check').toggleClass('selected', this.checked);
            });</script>
}